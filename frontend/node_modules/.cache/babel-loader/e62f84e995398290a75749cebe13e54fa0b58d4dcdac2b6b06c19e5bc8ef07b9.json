{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\smartdoc3\\\\frontend\\\\src\\\\pages\\\\HistoryPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { History, Trash2, Calendar, MessageCircle, Clock } from 'lucide-react';\nimport { historyService } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst HistoryPage = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [sessions, setSessions] = useState([]);\n  const [selectedSession, setSelectedSession] = useState(null);\n  const [sessionHistory, setSessionHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Function to parse markdown-style bold text\n  const parseBoldText = text => {\n    // Handle undefined, null, or non-string values\n    if (!text || typeof text !== 'string') {\n      return text || '';\n    }\n    const parts = text.split(/(\\*\\*.*?\\*\\*)/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('**') && part.endsWith('**')) {\n        const boldText = part.slice(2, -2);\n        return /*#__PURE__*/_jsxDEV(\"strong\", {\n          className: \"font-bold\",\n          children: boldText\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 16\n        }, this);\n      }\n      return part;\n    });\n  };\n  useEffect(() => {\n    loadSessions();\n  }, []);\n  const loadSessions = async () => {\n    try {\n      setLoading(true);\n      const userId = (user === null || user === void 0 ? void 0 : user.id) || (user === null || user === void 0 ? void 0 : user._id);\n      if (!userId) {\n        setSessions([]);\n        return;\n      }\n      let sessions = [];\n      try {\n        // Try user-specific sessions first\n        const response = await historyService.listUserSessions(userId);\n        sessions = response.sessions || [];\n      } catch (userSessionError) {\n        // Fallback to general sessions and filter by user\n        try {\n          const allSessionsResp = await historyService.listSessions();\n          const allSessions = allSessionsResp.sessions || [];\n          // Filter sessions for current user\n          sessions = allSessions.filter(session => session.user_id === userId || session.user_id === (user === null || user === void 0 ? void 0 : user.email) || session.user_id === (user === null || user === void 0 ? void 0 : user.id));\n        } catch (generalError) {\n          console.error('Failed to load user sessions:', generalError);\n          sessions = [];\n        }\n      }\n      setSessions(sessions);\n    } catch (err) {\n      setError('Failed to load chat history');\n      console.error('Error loading sessions:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadSessionHistory = async sessionId => {\n    try {\n      setLoading(true);\n      const response = await historyService.getHistory(sessionId);\n\n      // Convert the API response to the expected format\n      const messages = [];\n      const messageMap = new Map();\n      (response.history || []).forEach(item => {\n        if (item.question && !messageMap.has(`user-${item.timestamp}`)) {\n          messages.push({\n            type: 'user',\n            content: item.question,\n            timestamp: item.timestamp,\n            sources: []\n          });\n          messageMap.set(`user-${item.timestamp}`, true);\n        }\n        if (item.answer && !messageMap.has(`ai-${item.timestamp}`)) {\n          messages.push({\n            type: 'ai',\n            content: item.answer,\n            timestamp: item.timestamp,\n            sources: item.sources || []\n          });\n          messageMap.set(`ai-${item.timestamp}`, true);\n        }\n      });\n\n      // Sort messages by timestamp\n      messages.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\n      setSessionHistory(messages);\n      setSelectedSession(sessionId);\n    } catch (err) {\n      setError('Failed to load session history');\n      console.error('Error loading session history:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const deleteSession = async sessionId => {\n    if (!window.confirm('Are you sure you want to delete this session?')) {\n      return;\n    }\n    try {\n      await historyService.deleteSession(sessionId);\n      if (selectedSession === sessionId) {\n        setSelectedSession(null);\n        setSessionHistory([]);\n      }\n      await loadSessions();\n    } catch (err) {\n      setError('Failed to delete session');\n      console.error('Error deleting session:', err);\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString([], {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const formatTime = dateString => {\n    return new Date(dateString).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (loading && sessions.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-gray-600\",\n          children: \"Loading chat history...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900 mb-2\",\n        children: \"Chat History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"View and manage your previous conversations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-700\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: \"Sessions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: [sessions.length, \" total\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), sessions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(History, {\n              className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"No chat sessions found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: sessions.map(session => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-3 rounded-lg border cursor-pointer transition-colors ${selectedSession === session.session_id ? 'border-primary-300 bg-primary-50' : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'}`,\n              onClick: () => loadSessionHistory(session.session_id),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 min-w-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                      className: \"h-4 w-4 text-gray-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium text-gray-900 truncate\",\n                      children: session.title || `Session ${session.session_id.slice(-8)}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2 mt-1 text-xs text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                      className: \"h-3 w-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: formatDate(session.last_activity)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2 mt-1 text-xs text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(Clock, {\n                      className: \"h-3 w-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [session.message_count, \" messages\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    deleteSession(session.session_id);\n                  },\n                  className: \"text-gray-400 hover:text-red-600 transition-colors p-1\",\n                  title: \"Delete session\",\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 21\n              }, this)\n            }, session.session_id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: selectedSession ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: \"Session History\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: [sessionHistory.length, \" messages\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-2 text-gray-600\",\n                children: \"Loading messages...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 19\n            }, this) : sessionHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8\",\n              children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: \"No messages in this session\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4 max-h-96 overflow-y-auto\",\n              children: sessionHistory.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 rounded-lg border ${message.type === 'user' ? 'bg-primary-50 border-primary-200' : 'bg-gray-50 border-gray-200'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start justify-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: message.type === 'user' ? 'You' : 'AI Assistant'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-500\",\n                    children: formatTime(message.timestamp)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-700 leading-relaxed\",\n                  children: parseBoldText(message.content)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 25\n                }, this), message.sources && message.sources.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 text-xs text-gray-500\",\n                  children: [\"Sources: \", message.sources.length, \" references\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 27\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(History, {\n              className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-2\",\n              children: \"Select a session\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Choose a session from the list to view its chat history\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n};\n_s(HistoryPage, \"KFlgffAoW53bVUpcC41HyD0n0G4=\", false, function () {\n  return [useAuth];\n});\n_c = HistoryPage;\nexport default HistoryPage;\nvar _c;\n$RefreshReg$(_c, \"HistoryPage\");","map":{"version":3,"names":["React","useState","useEffect","History","Trash2","Calendar","MessageCircle","Clock","historyService","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","HistoryPage","_s","user","sessions","setSessions","selectedSession","setSelectedSession","sessionHistory","setSessionHistory","loading","setLoading","error","setError","parseBoldText","text","parts","split","map","part","index","startsWith","endsWith","boldText","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","loadSessions","userId","id","_id","response","listUserSessions","userSessionError","allSessionsResp","listSessions","allSessions","filter","session","user_id","email","generalError","console","err","loadSessionHistory","sessionId","getHistory","messages","messageMap","Map","history","forEach","item","question","has","timestamp","push","type","content","sources","set","answer","sort","a","b","Date","deleteSession","window","confirm","formatDate","dateString","toLocaleDateString","year","month","day","hour","minute","formatTime","toLocaleTimeString","length","session_id","onClick","title","last_activity","message_count","e","stopPropagation","message","_c","$RefreshReg$"],"sources":["C:/Users/DELL/smartdoc3/frontend/src/pages/HistoryPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { History, Trash2, Calendar, MessageCircle, Clock } from 'lucide-react';\nimport { historyService } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\n\nconst HistoryPage = () => {\n  const { user } = useAuth();\n  const [sessions, setSessions] = useState([]);\n  const [selectedSession, setSelectedSession] = useState(null);\n  const [sessionHistory, setSessionHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Function to parse markdown-style bold text\n  const parseBoldText = (text) => {\n    // Handle undefined, null, or non-string values\n    if (!text || typeof text !== 'string') {\n      return text || '';\n    }\n    \n    const parts = text.split(/(\\*\\*.*?\\*\\*)/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('**') && part.endsWith('**')) {\n        const boldText = part.slice(2, -2);\n        return <strong key={index} className=\"font-bold\">{boldText}</strong>;\n      }\n      return part;\n    });\n  };\n\n  useEffect(() => {\n    loadSessions();\n  }, []);\n\n  const loadSessions = async () => {\n    try {\n      setLoading(true);\n      const userId = user?.id || user?._id;\n      \n      if (!userId) {\n        setSessions([]);\n        return;\n      }\n\n      let sessions = [];\n      \n      try {\n        // Try user-specific sessions first\n        const response = await historyService.listUserSessions(userId);\n        sessions = response.sessions || [];\n      } catch (userSessionError) {\n        // Fallback to general sessions and filter by user\n        try {\n          const allSessionsResp = await historyService.listSessions();\n          const allSessions = allSessionsResp.sessions || [];\n          // Filter sessions for current user\n          sessions = allSessions.filter(session => \n            session.user_id === userId || \n            session.user_id === user?.email ||\n            session.user_id === user?.id\n          );\n        } catch (generalError) {\n          console.error('Failed to load user sessions:', generalError);\n          sessions = [];\n        }\n      }\n      \n      setSessions(sessions);\n    } catch (err) {\n      setError('Failed to load chat history');\n      console.error('Error loading sessions:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadSessionHistory = async (sessionId) => {\n    try {\n      setLoading(true);\n      const response = await historyService.getHistory(sessionId);\n      \n      // Convert the API response to the expected format\n      const messages = [];\n      const messageMap = new Map();\n      \n      (response.history || []).forEach(item => {\n        if (item.question && !messageMap.has(`user-${item.timestamp}`)) {\n          messages.push({\n            type: 'user',\n            content: item.question,\n            timestamp: item.timestamp,\n            sources: []\n          });\n          messageMap.set(`user-${item.timestamp}`, true);\n        }\n        \n        if (item.answer && !messageMap.has(`ai-${item.timestamp}`)) {\n          messages.push({\n            type: 'ai',\n            content: item.answer,\n            timestamp: item.timestamp,\n            sources: item.sources || []\n          });\n          messageMap.set(`ai-${item.timestamp}`, true);\n        }\n      });\n      \n      // Sort messages by timestamp\n      messages.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\n      \n      setSessionHistory(messages);\n      setSelectedSession(sessionId);\n    } catch (err) {\n      setError('Failed to load session history');\n      console.error('Error loading session history:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteSession = async (sessionId) => {\n    if (!window.confirm('Are you sure you want to delete this session?')) {\n      return;\n    }\n\n    try {\n      await historyService.deleteSession(sessionId);\n      if (selectedSession === sessionId) {\n        setSelectedSession(null);\n        setSessionHistory([]);\n      }\n      await loadSessions();\n    } catch (err) {\n      setError('Failed to delete session');\n      console.error('Error deleting session:', err);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString([], {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const formatTime = (dateString) => {\n    return new Date(dateString).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  if (loading && sessions.length === 0) {\n    return (\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"text-center py-12\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto\"></div>\n          <p className=\"mt-2 text-gray-600\">Loading chat history...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Chat History</h1>\n        <p className=\"text-gray-600\">\n          View and manage your previous conversations\n        </p>\n      </div>\n\n      {error && (\n        <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-red-700\">{error}</p>\n        </div>\n      )}\n\n      <div className=\"grid lg:grid-cols-3 gap-6\">\n        {/* Sessions List */}\n        <div className=\"lg:col-span-1\">\n          <div className=\"card\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Sessions</h2>\n              <span className=\"text-sm text-gray-500\">\n                {sessions.length} total\n              </span>\n            </div>\n\n            {sessions.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <History className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <p className=\"text-gray-600\">No chat sessions found</p>\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                {sessions.map((session) => (\n                  <div\n                    key={session.session_id}\n                    className={`p-3 rounded-lg border cursor-pointer transition-colors ${\n                      selectedSession === session.session_id\n                        ? 'border-primary-300 bg-primary-50'\n                        : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'\n                    }`}\n                    onClick={() => loadSessionHistory(session.session_id)}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center space-x-2\">\n                          <MessageCircle className=\"h-4 w-4 text-gray-500\" />\n                          <span className=\"text-sm font-medium text-gray-900 truncate\">\n                            {session.title || `Session ${session.session_id.slice(-8)}`}\n                          </span>\n                        </div>\n                        <div className=\"flex items-center space-x-2 mt-1 text-xs text-gray-500\">\n                          <Calendar className=\"h-3 w-3\" />\n                          <span>{formatDate(session.last_activity)}</span>\n                        </div>\n                        <div className=\"flex items-center space-x-2 mt-1 text-xs text-gray-500\">\n                          <Clock className=\"h-3 w-3\" />\n                          <span>{session.message_count} messages</span>\n                        </div>\n                      </div>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          deleteSession(session.session_id);\n                        }}\n                        className=\"text-gray-400 hover:text-red-600 transition-colors p-1\"\n                        title=\"Delete session\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Session History */}\n        <div className=\"lg:col-span-2\">\n          <div className=\"card\">\n            {selectedSession ? (\n              <>\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h2 className=\"text-lg font-semibold text-gray-900\">\n                    Session History\n                  </h2>\n                  <span className=\"text-sm text-gray-500\">\n                    {sessionHistory.length} messages\n                  </span>\n                </div>\n\n                {loading ? (\n                  <div className=\"text-center py-8\">\n                    <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto\"></div>\n                    <p className=\"mt-2 text-gray-600\">Loading messages...</p>\n                  </div>\n                ) : sessionHistory.length === 0 ? (\n                  <div className=\"text-center py-8\">\n                    <MessageCircle className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                    <p className=\"text-gray-600\">No messages in this session</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n                    {sessionHistory.map((message, index) => (\n                      <div\n                        key={index}\n                        className={`p-4 rounded-lg border ${\n                          message.type === 'user'\n                            ? 'bg-primary-50 border-primary-200'\n                            : 'bg-gray-50 border-gray-200'\n                        }`}\n                      >\n                        <div className=\"flex items-start justify-between mb-2\">\n                          <span className=\"text-sm font-medium\">\n                            {message.type === 'user' ? 'You' : 'AI Assistant'}\n                          </span>\n                          <span className=\"text-xs text-gray-500\">\n                            {formatTime(message.timestamp)}\n                          </span>\n                        </div>\n                        <div className=\"text-sm text-gray-700 leading-relaxed\">\r\n                          {parseBoldText(message.content)}\r\n                        </div>\r\n                        {message.sources && message.sources.length > 0 && (\r\n                          <div className=\"mt-2 text-xs text-gray-500\">\r\n                            Sources: {message.sources.length} references\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <div className=\"text-center py-12\">\r\n                <History className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                  Select a session\r\n                </h3>\r\n                <p className=\"text-gray-600\">\r\n                  Choose a session from the list to view its chat history\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HistoryPage; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,aAAa,EAAEC,KAAK,QAAQ,cAAc;AAC9E,SAASC,cAAc,QAAQ,iBAAiB;AAChD,SAASC,OAAO,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC;EAAK,CAAC,GAAGP,OAAO,CAAC,CAAC;EAC1B,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACkB,eAAe,EAAEC,kBAAkB,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACoB,cAAc,EAAEC,iBAAiB,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACsB,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACwB,KAAK,EAAEC,QAAQ,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAM0B,aAAa,GAAIC,IAAI,IAAK;IAC9B;IACA,IAAI,CAACA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;MACrC,OAAOA,IAAI,IAAI,EAAE;IACnB;IAEA,MAAMC,KAAK,GAAGD,IAAI,CAACE,KAAK,CAAC,gBAAgB,CAAC;IAC1C,OAAOD,KAAK,CAACE,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;MAChC,IAAID,IAAI,CAACE,UAAU,CAAC,IAAI,CAAC,IAAIF,IAAI,CAACG,QAAQ,CAAC,IAAI,CAAC,EAAE;QAChD,MAAMC,QAAQ,GAAGJ,IAAI,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAClC,oBAAO1B,OAAA;UAAoB2B,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAEH;QAAQ,GAAtCH,KAAK;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAA0C,CAAC;MACtE;MACA,OAAOX,IAAI;IACb,CAAC,CAAC;EACJ,CAAC;EAED9B,SAAS,CAAC,MAAM;IACd0C,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACFpB,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMqB,MAAM,GAAG,CAAA7B,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE8B,EAAE,MAAI9B,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE+B,GAAG;MAEpC,IAAI,CAACF,MAAM,EAAE;QACX3B,WAAW,CAAC,EAAE,CAAC;QACf;MACF;MAEA,IAAID,QAAQ,GAAG,EAAE;MAEjB,IAAI;QACF;QACA,MAAM+B,QAAQ,GAAG,MAAMxC,cAAc,CAACyC,gBAAgB,CAACJ,MAAM,CAAC;QAC9D5B,QAAQ,GAAG+B,QAAQ,CAAC/B,QAAQ,IAAI,EAAE;MACpC,CAAC,CAAC,OAAOiC,gBAAgB,EAAE;QACzB;QACA,IAAI;UACF,MAAMC,eAAe,GAAG,MAAM3C,cAAc,CAAC4C,YAAY,CAAC,CAAC;UAC3D,MAAMC,WAAW,GAAGF,eAAe,CAAClC,QAAQ,IAAI,EAAE;UAClD;UACAA,QAAQ,GAAGoC,WAAW,CAACC,MAAM,CAACC,OAAO,IACnCA,OAAO,CAACC,OAAO,KAAKX,MAAM,IAC1BU,OAAO,CAACC,OAAO,MAAKxC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyC,KAAK,KAC/BF,OAAO,CAACC,OAAO,MAAKxC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE8B,EAAE,CAC9B,CAAC;QACH,CAAC,CAAC,OAAOY,YAAY,EAAE;UACrBC,OAAO,CAAClC,KAAK,CAAC,+BAA+B,EAAEiC,YAAY,CAAC;UAC5DzC,QAAQ,GAAG,EAAE;QACf;MACF;MAEAC,WAAW,CAACD,QAAQ,CAAC;IACvB,CAAC,CAAC,OAAO2C,GAAG,EAAE;MACZlC,QAAQ,CAAC,6BAA6B,CAAC;MACvCiC,OAAO,CAAClC,KAAK,CAAC,yBAAyB,EAAEmC,GAAG,CAAC;IAC/C,CAAC,SAAS;MACRpC,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMqC,kBAAkB,GAAG,MAAOC,SAAS,IAAK;IAC9C,IAAI;MACFtC,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMwB,QAAQ,GAAG,MAAMxC,cAAc,CAACuD,UAAU,CAACD,SAAS,CAAC;;MAE3D;MACA,MAAME,QAAQ,GAAG,EAAE;MACnB,MAAMC,UAAU,GAAG,IAAIC,GAAG,CAAC,CAAC;MAE5B,CAAClB,QAAQ,CAACmB,OAAO,IAAI,EAAE,EAAEC,OAAO,CAACC,IAAI,IAAI;QACvC,IAAIA,IAAI,CAACC,QAAQ,IAAI,CAACL,UAAU,CAACM,GAAG,CAAC,QAAQF,IAAI,CAACG,SAAS,EAAE,CAAC,EAAE;UAC9DR,QAAQ,CAACS,IAAI,CAAC;YACZC,IAAI,EAAE,MAAM;YACZC,OAAO,EAAEN,IAAI,CAACC,QAAQ;YACtBE,SAAS,EAAEH,IAAI,CAACG,SAAS;YACzBI,OAAO,EAAE;UACX,CAAC,CAAC;UACFX,UAAU,CAACY,GAAG,CAAC,QAAQR,IAAI,CAACG,SAAS,EAAE,EAAE,IAAI,CAAC;QAChD;QAEA,IAAIH,IAAI,CAACS,MAAM,IAAI,CAACb,UAAU,CAACM,GAAG,CAAC,MAAMF,IAAI,CAACG,SAAS,EAAE,CAAC,EAAE;UAC1DR,QAAQ,CAACS,IAAI,CAAC;YACZC,IAAI,EAAE,IAAI;YACVC,OAAO,EAAEN,IAAI,CAACS,MAAM;YACpBN,SAAS,EAAEH,IAAI,CAACG,SAAS;YACzBI,OAAO,EAAEP,IAAI,CAACO,OAAO,IAAI;UAC3B,CAAC,CAAC;UACFX,UAAU,CAACY,GAAG,CAAC,MAAMR,IAAI,CAACG,SAAS,EAAE,EAAE,IAAI,CAAC;QAC9C;MACF,CAAC,CAAC;;MAEF;MACAR,QAAQ,CAACe,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIC,IAAI,CAACF,CAAC,CAACR,SAAS,CAAC,GAAG,IAAIU,IAAI,CAACD,CAAC,CAACT,SAAS,CAAC,CAAC;MAEtElD,iBAAiB,CAAC0C,QAAQ,CAAC;MAC3B5C,kBAAkB,CAAC0C,SAAS,CAAC;IAC/B,CAAC,CAAC,OAAOF,GAAG,EAAE;MACZlC,QAAQ,CAAC,gCAAgC,CAAC;MAC1CiC,OAAO,CAAClC,KAAK,CAAC,gCAAgC,EAAEmC,GAAG,CAAC;IACtD,CAAC,SAAS;MACRpC,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM2D,aAAa,GAAG,MAAOrB,SAAS,IAAK;IACzC,IAAI,CAACsB,MAAM,CAACC,OAAO,CAAC,+CAA+C,CAAC,EAAE;MACpE;IACF;IAEA,IAAI;MACF,MAAM7E,cAAc,CAAC2E,aAAa,CAACrB,SAAS,CAAC;MAC7C,IAAI3C,eAAe,KAAK2C,SAAS,EAAE;QACjC1C,kBAAkB,CAAC,IAAI,CAAC;QACxBE,iBAAiB,CAAC,EAAE,CAAC;MACvB;MACA,MAAMsB,YAAY,CAAC,CAAC;IACtB,CAAC,CAAC,OAAOgB,GAAG,EAAE;MACZlC,QAAQ,CAAC,0BAA0B,CAAC;MACpCiC,OAAO,CAAClC,KAAK,CAAC,yBAAyB,EAAEmC,GAAG,CAAC;IAC/C;EACF,CAAC;EAED,MAAM0B,UAAU,GAAIC,UAAU,IAAK;IACjC,OAAO,IAAIL,IAAI,CAACK,UAAU,CAAC,CAACC,kBAAkB,CAAC,EAAE,EAAE;MACjDC,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,OAAO;MACdC,GAAG,EAAE,SAAS;MACdC,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,UAAU,GAAIP,UAAU,IAAK;IACjC,OAAO,IAAIL,IAAI,CAACK,UAAU,CAAC,CAACQ,kBAAkB,CAAC,EAAE,EAAE;MACjDH,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC;EAED,IAAItE,OAAO,IAAIN,QAAQ,CAAC+E,MAAM,KAAK,CAAC,EAAE;IACpC,oBACErF,OAAA;MAAK2B,SAAS,EAAC,mBAAmB;MAAAC,QAAA,eAChC5B,OAAA;QAAK2B,SAAS,EAAC,mBAAmB;QAAAC,QAAA,gBAChC5B,OAAA;UAAK2B,SAAS,EAAC;QAAyE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC/FhC,OAAA;UAAG2B,SAAS,EAAC,oBAAoB;UAAAC,QAAA,EAAC;QAAuB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1D;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACEhC,OAAA;IAAK2B,SAAS,EAAC,mBAAmB;IAAAC,QAAA,gBAChC5B,OAAA;MAAK2B,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnB5B,OAAA;QAAI2B,SAAS,EAAC,uCAAuC;QAAAC,QAAA,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvEhC,OAAA;QAAG2B,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAC;MAE7B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,EAELlB,KAAK,iBACJd,OAAA;MAAK2B,SAAS,EAAC,qDAAqD;MAAAC,QAAA,eAClE5B,OAAA;QAAG2B,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAEd;MAAK;QAAAe,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CACN,eAEDhC,OAAA;MAAK2B,SAAS,EAAC,2BAA2B;MAAAC,QAAA,gBAExC5B,OAAA;QAAK2B,SAAS,EAAC,eAAe;QAAAC,QAAA,eAC5B5B,OAAA;UAAK2B,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnB5B,OAAA;YAAK2B,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrD5B,OAAA;cAAI2B,SAAS,EAAC,qCAAqC;cAAAC,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjEhC,OAAA;cAAM2B,SAAS,EAAC,uBAAuB;cAAAC,QAAA,GACpCtB,QAAQ,CAAC+E,MAAM,EAAC,QACnB;YAAA;cAAAxD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,EAEL1B,QAAQ,CAAC+E,MAAM,KAAK,CAAC,gBACpBrF,OAAA;YAAK2B,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBAC/B5B,OAAA,CAACR,OAAO;cAACmC,SAAS,EAAC;YAAsC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC5DhC,OAAA;cAAG2B,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpD,CAAC,gBAENhC,OAAA;YAAK2B,SAAS,EAAC,WAAW;YAAAC,QAAA,EACvBtB,QAAQ,CAACc,GAAG,CAAEwB,OAAO,iBACpB5C,OAAA;cAEE2B,SAAS,EAAE,0DACTnB,eAAe,KAAKoC,OAAO,CAAC0C,UAAU,GAClC,kCAAkC,GAClC,wDAAwD,EAC3D;cACHC,OAAO,EAAEA,CAAA,KAAMrC,kBAAkB,CAACN,OAAO,CAAC0C,UAAU,CAAE;cAAA1D,QAAA,eAEtD5B,OAAA;gBAAK2B,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,gBAChD5B,OAAA;kBAAK2B,SAAS,EAAC,gBAAgB;kBAAAC,QAAA,gBAC7B5B,OAAA;oBAAK2B,SAAS,EAAC,6BAA6B;oBAAAC,QAAA,gBAC1C5B,OAAA,CAACL,aAAa;sBAACgC,SAAS,EAAC;oBAAuB;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eACnDhC,OAAA;sBAAM2B,SAAS,EAAC,4CAA4C;sBAAAC,QAAA,EACzDgB,OAAO,CAAC4C,KAAK,IAAI,WAAW5C,OAAO,CAAC0C,UAAU,CAAC5D,KAAK,CAAC,CAAC,CAAC,CAAC;oBAAE;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACvD,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACJ,CAAC,eACNhC,OAAA;oBAAK2B,SAAS,EAAC,wDAAwD;oBAAAC,QAAA,gBACrE5B,OAAA,CAACN,QAAQ;sBAACiC,SAAS,EAAC;oBAAS;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eAChChC,OAAA;sBAAA4B,QAAA,EAAO+C,UAAU,CAAC/B,OAAO,CAAC6C,aAAa;oBAAC;sBAAA5D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC7C,CAAC,eACNhC,OAAA;oBAAK2B,SAAS,EAAC,wDAAwD;oBAAAC,QAAA,gBACrE5B,OAAA,CAACJ,KAAK;sBAAC+B,SAAS,EAAC;oBAAS;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eAC7BhC,OAAA;sBAAA4B,QAAA,GAAOgB,OAAO,CAAC8C,aAAa,EAAC,WAAS;oBAAA;sBAAA7D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1C,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACNhC,OAAA;kBACEuF,OAAO,EAAGI,CAAC,IAAK;oBACdA,CAAC,CAACC,eAAe,CAAC,CAAC;oBACnBpB,aAAa,CAAC5B,OAAO,CAAC0C,UAAU,CAAC;kBACnC,CAAE;kBACF3D,SAAS,EAAC,wDAAwD;kBAClE6D,KAAK,EAAC,gBAAgB;kBAAA5D,QAAA,eAEtB5B,OAAA,CAACP,MAAM;oBAACkC,SAAS,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxB,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN;YAAC,GAnCDY,OAAO,CAAC0C,UAAU;cAAAzD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAoCpB,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNhC,OAAA;QAAK2B,SAAS,EAAC,eAAe;QAAAC,QAAA,eAC5B5B,OAAA;UAAK2B,SAAS,EAAC,MAAM;UAAAC,QAAA,EAClBpB,eAAe,gBACdR,OAAA,CAAAE,SAAA;YAAA0B,QAAA,gBACE5B,OAAA;cAAK2B,SAAS,EAAC,wCAAwC;cAAAC,QAAA,gBACrD5B,OAAA;gBAAI2B,SAAS,EAAC,qCAAqC;gBAAAC,QAAA,EAAC;cAEpD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACLhC,OAAA;gBAAM2B,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GACpClB,cAAc,CAAC2E,MAAM,EAAC,WACzB;cAAA;gBAAAxD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,EAELpB,OAAO,gBACNZ,OAAA;cAAK2B,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC/B5B,OAAA;gBAAK2B,SAAS,EAAC;cAAyE;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC/FhC,OAAA;gBAAG2B,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,EAAC;cAAmB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtD,CAAC,GACJtB,cAAc,CAAC2E,MAAM,KAAK,CAAC,gBAC7BrF,OAAA;cAAK2B,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC/B5B,OAAA,CAACL,aAAa;gBAACgC,SAAS,EAAC;cAAsC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAClEhC,OAAA;gBAAG2B,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAA2B;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzD,CAAC,gBAENhC,OAAA;cAAK2B,SAAS,EAAC,oCAAoC;cAAAC,QAAA,EAChDlB,cAAc,CAACU,GAAG,CAAC,CAACyE,OAAO,EAAEvE,KAAK,kBACjCtB,OAAA;gBAEE2B,SAAS,EAAE,yBACTkE,OAAO,CAAC9B,IAAI,KAAK,MAAM,GACnB,kCAAkC,GAClC,4BAA4B,EAC/B;gBAAAnC,QAAA,gBAEH5B,OAAA;kBAAK2B,SAAS,EAAC,uCAAuC;kBAAAC,QAAA,gBACpD5B,OAAA;oBAAM2B,SAAS,EAAC,qBAAqB;oBAAAC,QAAA,EAClCiE,OAAO,CAAC9B,IAAI,KAAK,MAAM,GAAG,KAAK,GAAG;kBAAc;oBAAAlC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC7C,CAAC,eACPhC,OAAA;oBAAM2B,SAAS,EAAC,uBAAuB;oBAAAC,QAAA,EACpCuD,UAAU,CAACU,OAAO,CAAChC,SAAS;kBAAC;oBAAAhC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1B,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACNhC,OAAA;kBAAK2B,SAAS,EAAC,uCAAuC;kBAAAC,QAAA,EACnDZ,aAAa,CAAC6E,OAAO,CAAC7B,OAAO;gBAAC;kBAAAnC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5B,CAAC,EACL6D,OAAO,CAAC5B,OAAO,IAAI4B,OAAO,CAAC5B,OAAO,CAACoB,MAAM,GAAG,CAAC,iBAC5CrF,OAAA;kBAAK2B,SAAS,EAAC,4BAA4B;kBAAAC,QAAA,GAAC,WACjC,EAACiE,OAAO,CAAC5B,OAAO,CAACoB,MAAM,EAAC,aACnC;gBAAA;kBAAAxD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CACN;cAAA,GAtBIV,KAAK;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAuBP,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA,eACD,CAAC,gBAEHhC,OAAA;YAAK2B,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChC5B,OAAA,CAACR,OAAO;cAACmC,SAAS,EAAC;YAAsC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC5DhC,OAAA;cAAI2B,SAAS,EAAC,wCAAwC;cAAAC,QAAA,EAAC;YAEvD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACLhC,OAAA;cAAG2B,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAE7B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD;QACN;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC5B,EAAA,CAvTID,WAAW;EAAA,QACEL,OAAO;AAAA;AAAAgG,EAAA,GADpB3F,WAAW;AAyTjB,eAAeA,WAAW;AAAC,IAAA2F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}